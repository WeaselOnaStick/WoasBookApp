@page "/"
@inject IJSRuntime js
@using WoasBookApp.Services
@rendermode InteractiveAuto

@using Bogus

<button class="btn btn-primary" @onclick="Test">Test</button>


<div class="accordion" id="booksAccordion">
    <Virtualize Context="bookItem" Items="allBooks">

        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    @bookItem.Title
                </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#booksAccordion">
                <div class="accordion-body">
                    <strong>@bookItem.Title</strong> @bookItem.Description
                </div>
            </div>
        </div>
    </Virtualize>
</div>


@code {

    public List<Book> allBooks = new List<Book>();

    public BookFaker bookFaker = new BookFaker(123);


    void Test(){
        allBooks.AddRange(bookFaker.Generate(10));
        StateHasChanged();
    }
}